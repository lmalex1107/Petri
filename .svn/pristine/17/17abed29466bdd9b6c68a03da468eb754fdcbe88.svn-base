package control;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

import org.graphstream.ui.view.ViewerListener;

import model.Arc;
import model.Knot;
import model.PetriNet;
import view.GUI;
import view.PetriGraph;

public class Control implements ActionListener, ViewerListener{
	ArrayList<Knot> knotlist = null;
	ArrayList<Arc> arclist = null;
	GUI gui;
	PetriGraph petrigraph = null;
	PetriNet petrinet = null;
	
	public Control () {
		petrigraph = new PetriGraph(knotlist, arclist);
		gui = new GUI(this, knotlist, arclist, petrigraph);
		
		
		System.out.println(System.identityHashCode( petrigraph ));			//Test
		
	
	}
	
	@Override
	public void actionPerformed(ActionEvent ae) {
		if (ae.getSource() == gui.oeffnen) {
			this.petrigraph = gui.open(this.petrigraph);
			this.knotlist = gui.getKnotList();
			this.arclist = gui.getArcList();
			petrinet = new PetriNet(this.knotlist, this.arclist);
			System.out.println(System.identityHashCode( petrigraph ));
			
		}
		
		if (ae.getSource() == gui.neu_laden) {
			
		}
		
		if (ae.getSource() == gui.analyse) {
			
		}
		
		if (ae.getSource() == gui.beenden) {
			gui.exit();
		}
		
		
		

		
	}
	
	
	public void viewClosed( String id ) {
		
	}
	
	public void buttonPushed( String id ) {
		
	}
	
	public void buttonReleased( String id ) {
		
	}
	
	
	
	public void testprint() {
		
	}
	
	public static void main (String args[]) {
		
		javax.swing.SwingUtilities.invokeLater(new Runnable() {
			public void run() {
				Control control = new Control();
			}
		});
		
	}
	
	
}
